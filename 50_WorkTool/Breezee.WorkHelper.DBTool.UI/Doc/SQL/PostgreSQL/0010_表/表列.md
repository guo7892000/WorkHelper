## 表列
### 查询所有表
```
SELECT A.TABLENAME AS TABLE_NAME,A.SCHEMANAME AS TABLE_SCHEMA,A.TABLEOWNER AS TABLE_OWNER,
    d.description AS TABLE_COMMENT,'0' AS TABLE_IS_VIEW
FROM PG_TABLES A
LEFT JOIN PG_CLASS B
    ON A.TABLENAME = B.RELNAME
LEFT JOIN pg_description d 
	ON d.objoid = B.oid AND d.objsubid = '0'
WHERE 1=1 
AND A.SCHEMANAME = '#TABLE_SCHEMA#'
AND A.TABLENAME = '#TABLE_NAME#'
UNION ALL
SELECT A.VIEWNAME AS TABLE_NAME,A.SCHEMANAME AS TABLE_SCHEMA,A.VIEWOWNER AS TABLE_OWNER,
    '' AS TABLE_COMMENT,'1' AS TABLE_IS_VIEW
FROM PG_VIEWS A
WHERE 1=1 
AND A.SCHEMANAME = '#TABLE_SCHEMA#'
AND A.VIEWNAME = '#TABLE_NAME#'
```
### 查询表所有列
```
SELECT A.TABLE_NAME,
	A.TABLE_SCHEMA,
	A.ORDINAL_POSITION,
	A.COLUMN_NAME,
	A.DATA_TYPE,
	A.CHARACTER_MAXIMUM_LENGTH,
	A.NUMERIC_PRECISION,
	A.NUMERIC_SCALE,
	A.IS_NULLABLE,
	A.COLUMN_DEFAULT,
	CASE WHEN POSITION('NEXTVAL' IN COLUMN_DEFAULT)>0 THEN 1 ELSE 0 END AS IS_IDENTITY,
	(SELECT 'PK'
	FROM pg_constraint AA
	INNER JOIN pg_class BB ON AA.conrelid = BB.oid
	INNER JOIN pg_attribute CC ON CC.attrelid = BB.oid
		AND CC.attnum = AA.conkey[1]
	INNER JOIN pg_type DD ON DD.oid = CC.atttypid
	WHERE  BB.relname = A.TABLE_NAME
	AND AA.contype = 'p' AND CC.attname = A.COLUMN_NAME
	) AS COLUMN_KEY,
	B.COLUMN_COMMENT,
	B.COLUMN_TYPE,
    split_part(B.COLUMN_COMMENT,':',1) AS COLUMN_CN,
    split_part(B.COLUMN_COMMENT,':',2) AS COLUMN_EXTRA,
	C.TABLE_COMMENT,
	C.TABLE_OWNER
FROM INFORMATION_SCHEMA.COLUMNS A
LEFT JOIN (select c.relname,a.attname,d.description COLUMN_COMMENT,
		    concat_ws('',t.typname,SUBSTRING(format_type(a.atttypid,a.atttypmod) from '\(.*\)')) as COLUMN_TYPE 
	from pg_class c,pg_attribute a,pg_type t,pg_description d
	where a.attnum>0 and a.attrelid=c.oid and a.atttypid=t.oid and d.objoid=a.attrelid and d.objsubid=a.attnum
	and c.relname in (select tablename from pg_tables where schemaname='public' and position('_2' in tablename)=0) 
    ) B ON A.TABLE_NAME = B.relname AND A.COLUMN_NAME = B.attname
	LEFT JOIN (
	SELECT A.TABLENAME AS TABLE_NAME,A.SCHEMANAME AS TABLE_SCHEMA,A.TABLEOWNER AS TABLE_OWNER,
        d.description AS TABLE_COMMENT
    FROM PG_TABLES A
    LEFT JOIN PG_CLASS B
        ON A.TABLENAME = B.RELNAME
	LEFT JOIN pg_description d 
		ON d.objoid = B.oid AND d.objsubid = '0'
    WHERE 1=1
	) C ON A.TABLE_NAME = C.TABLE_NAME AND A.TABLE_SCHEMA = C.TABLE_SCHEMA
WHERE 1=1 
    AND upper(A.TABLE_SCHEMA)='PUBLIC'  
    AND A.TABLE_NAME = '#TABLE_NAME#'
    AND A.TABLE_NAME IN (#TABLE_NAME_LIST:LS#)
ORDER BY A.TABLE_NAME,A.ORDINAL_POSITION
```


