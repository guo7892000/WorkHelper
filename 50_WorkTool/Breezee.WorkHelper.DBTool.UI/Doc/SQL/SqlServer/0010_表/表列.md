## 表列
### 查询所有表
```
SELECT  B.NAME AS TABLE_SCHEMA ,
        A.NAME AS TABLE_NAME,
        C.VALUE AS TABLE_COMMENT,
        CASE WHEN A.TYPE='V' THEN '1' ELSE '0' END AS TABLE_IS_VIEW
FROM    SYS.OBJECTS A
JOIN SYS.SCHEMAS B ON A.SCHEMA_ID = B.SCHEMA_ID
LEFT JOIN SYS.EXTENDED_PROPERTIES C ON C.MAJOR_ID=A.OBJECT_ID AND C.MINOR_ID=0
WHERE  A.TYPE IN ('U','V')
    AND A.NAME = '#TABLE_NAME#'
    AND B.NAME= '#TABLE_SCHEMA#'
    ORDER BY A.Name
```
### 查询表所有列
```
SELECT
	S.NAME AS TABLE_SCHEMA ,
    TABLE_NAME = D.NAME ,
    TABLE_COMMENT = F.VALUE,
    ORDINAL_POSITION = A.COLORDER,
    COLUMN_NAME = A.NAME,
    IS_IDENTITY = case when COLUMNPROPERTY(a.id, a.name, 'IsIdentity')= 1 then '1'else '' end,
	COLUMN_KEY = CASE WHEN PKC.PARENT_OBJ is null then '' else 'PK' END,
    DATA_TYPE = B.NAME,
    CHARACTER_MAXIMUM_LENGTH = A.LENGTH,
    NUMERIC_PRECISION = COLUMNPROPERTY(A.ID, A.NAME, 'PRECISION'),
    NUMERIC_SCALE = ISNULL(COLUMNPROPERTY(A.ID, A.NAME, 'SCALE'), 0),
    IS_NULLABLE = A.ISNULLABLE,
    COLUMN_DEFAULT = ISNULL(E.TEXT, ''),
    COLUMN_COMMENT = ISNULL(G.[VALUE], '')
FROM SYSCOLUMNS A
LEFT JOIN SYSTYPES B
	ON A.XUSERTYPE = B.XUSERTYPE
JOIN SYS.OBJECTS D
	ON A.ID = D.object_id  AND D.TYPE IN ('U','V') AND D.NAME <> 'DTPROPERTIES'
JOIN SYS.SCHEMAS S ON D.SCHEMA_ID = S.SCHEMA_ID
LEFT JOIN SYSCOMMENTS E
	ON A.CDEFAULT = E.ID
LEFT JOIN SYS.EXTENDED_PROPERTIES G
	ON A.ID = G.MAJOR_ID AND A.COLID = G.MINOR_ID
LEFT JOIN SYS.EXTENDED_PROPERTIES F
	ON D.object_id = F.MAJOR_ID AND F.MINOR_ID = 0
LEFT JOIN (SELECT OB.PARENT_OBJ,IK.ID,IK.COLID 
		FROM SYSOBJECTS OB 
		JOIN SYSINDEXES ID
			ON OB.NAME = ID.NAME
		JOIN SYSINDEXKEYS IK
			ON IK.INDID = ID.INDID 
		WHERE OB.XTYPE = 'PK' 
		) PKC ON PKC.PARENT_OBJ = A.ID AND PKC.ID = A.ID AND PKC.COLID = A.COLID
WHERE 1=1
    AND D.NAME = '#TABLE_NAME#'
    AND D.NAME IN (#TABLE_NAME_LIST:LS#)
ORDER BY D.NAME,A.COLORDER
```


