## Spring-总结
### 新建Spring Starter Project工程时报错		
  将https://start.spring.io修改为http://start.spring.io，用HTTP访问。	

###  @Controller和@RestController的区别：			
1) 如果只是使用@RestController注解Controller，则Controller中的方法无法返回jsp页面，或者html，配置的视图解析器 InternalResourceViewResolver不起作用，返回的内容就是Return 里的内容。		
2) 如果需要返回到指定页面，则需要用 @Controller配合视图解析器InternalResourceViewResolver才行。如果需要返回JSON，XML或自定义mediaType内容到页面，则需要在对应的方法上加上@ResponseBody注解。		

### 自动生成Beam名称：				
代码中可以通过标注的方式来表示这个类是属于spring管理的类，这类标注有Component、Repository、Service以及Controller。它们默认没有直接指定bean的名字，			
所以bean的名字是spring默认生成的，这些bean的名字生成规则就是bean的类型首字母小写。这个会则会引起一个问题，若不同的包下有两个名字相同的类，			
而这两个类都声明成spring的bean，这时候就会产成冲突。因为bean的名字就是bean的唯一标示，是不允许重复的。当然我们可以在标注中指定bean的名字就			
解决了这个问题，比如Controller("bean9527")，这样当前Controller的名字就是"bean9527"了。			

### springboot-配置文件优先级				
SpringBoot配置文件可以使用yml格式和properties格式			
分别的默认命名为：application.yml、application.properties 官网都是以yml作为参考，层级结构更清晰的一种配置文件			
SpringBoot配置文件默认可以放到以下目录中，下面四种可以自动读取到：			
1、项目根目录下			
2、项目根目录中config目录下			
3、项目的resources目录下			
4、项目resources目录中config目录下			
也可以指定目录  ***/config			
如果在不同的目录中存在多个配置文件，它的读取顺序是：
```
	1、config/application.properties（项目根目录中config目录下）			
	2、config/application.yml			
	3、application.properties（项目根目录下）			
	4、application.yml			
	5、resources/config/application.properties（项目resources目录中config目录下）			
	6、resources/config/application.yml			
	7、resources/application.properties（项目的resources目录下）			
	8、resources/application.yml
```	
注意			
	1、如果同一个目录下，有application.yml也有application.properties，默认先读取application.properties。			
	2、如果同一个配置属性，在多个配置文件都配置了，默认使用第1次读取到的，后面读取的不覆盖前面读取到的。			
	3、创建SpringBoot项目时，一般的配置文件放置在“项目的resources目录下”			
如果是其他名称的配置文件也可以在启动的时候配置：--spring.config.name = aaa  来加载aaa配置文件，或者通过--spring.config.location来加载不同目录的配置文件。在初期需要根据 spring.config.name  和 spring.config.location  决定加载哪个文件，所以它们必须定义为environment属性（通常为OS env，系统属性或命令行参数）			
或者我们可以通过springboot的main 里面写代码或者是注解来实现指定配置，多种多个配置文件的效果。			

### Spring中的使用方法						
在Spring MVC中，RequestMethod提供了方法的集合：	
```
	public enum RequestMethod {					
	    GET, HEAD, POST, PUT, PATCH, DELETE, OPTIONS, TRACE					
	}					
```						
在控制器中，我们可以通过设置RequestMapping的method方法，改变接收数据controller：
```
	@Controller					
	public class HelloController {					
	    @RequestMapping(value="/test",method=RequestMethod.GET)					
	    public @ResponseBody String get(){					
	        return "from get";					
	    }					
	    @RequestMapping(value="/test",method=RequestMethod.POST)					
	    public @ResponseBody String post(){					
	        return "from post";					
	    }					
	}
```	
虽然上面的Url是一样的，但是由于请求方法不同，他们会根据请求方法使用相应的控制器方法处理请求。					

### 关于引入Bean实现自动装配：						
想使用第三方jar包，并且实现自动装配autowired，需要做以下工作：					
1、先在Pom.xml文件中添加第三方包，例如：
```
	<properties>					
		<asset-bootstrap-client.version>2.0.72</asset-bootstrap-client.version>				
	</properties>					
	<!-- Asset Bootstrap client -->					
	<dependency>					
		<groupId>com.ge.predix.solsvc</groupId>				
		<artifactId>asset-bootstrap-client</artifactId>				
		<version>${asset-bootstrap-client.version}</version>				
	</dependency>					
```						
2、通过设置包扫描路径引入配置，可有多种方式：					
包扫描路径是指第三方包中的Bean的部分或全部包名。					
代码方式：  
```
@SpringBootApplication(scanBasePackages={				
		"com.breezee.demo",				
		"com.b2b2c.developer_center",				
		"com.ge.predix.solsvc.bootstrap.ams"				
})				
public class DemoApplication {				
}
```
或  
```
@Component
@ImportResource(
{
        "classpath*:META-INF/spring/asset-bootstrap-client-scan-context.xml"
})
public class WindDataImpl implements WindDataAPI {
}
```
XML配置方式：META-INF/spring/datasource-scan-context.xml   
```
<?xml version="1.0" encoding="UTF-8"?>						
						
<beans xmlns="http://www.springframework.org/schema/beans"						
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"					
	xsi:schemaLocation="					
			http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd			
			http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd">			
						
	<context:component-scan					
		base-package="com.ge.predix.solsvc.spi,				
		com.ge.predix.solsvc.winddata.api,				
		com.ge.predix.solsvc.winddata.impl,				
		com.ge.predix.solsvc.bootstrap.ams,				
		“ />				
</beans>						
```						
3、引入包，并使用Bean自动装配：
```
import com.ge.predix.solsvc.bootstrap.ams.client.AssetClient;						
						
@Autowired						
@Qualifier("AssetClient")						
protected AssetClient assetClient;
```
注：如果对象类型为接口，其有多个实现，需要加上Qualifier和名称以指出使用哪个实现。


